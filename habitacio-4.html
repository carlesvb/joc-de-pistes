<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Habitaci√≥ 4</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>

  <h1>üö™ Habitaci√≥ 4</h1>
  <p>Que son? On els heu trobat? PARAULA1-PARAULA 2</p>

  <input type="text" id="codiInput" placeholder="Introdueix la resposta aqu√≠">
  <button onclick="comprovarCodi()">Verificar</button>

  <div id="missatge"></div>

  <!-- Sons -->
  <audio id="soExit">
    <source src="audio/success.mp3" type="audio/mpeg">
  </audio>
  <audio id="musicaFons" loop>
    <source src="audio/music.mp3" type="audio/mpeg">
  </audio>
    <audio id="soError">
    <source src="audio/wrong.mp3" type="audio/mpeg">
  </audio>
  <button onclick="alternarMusica()" id="botonMusica">üîä Reproduir m√∫sica</button>

  <script>
    document.body.style.backgroundImage = "url('img/background-habitacio-4.jpg')";

    function normalitzarCodi(codi) {
      return codi
        .normalize("NFD")
        .replace(/[\u0300-\u036f]/g, "")
        .toUpperCase();
    }

    function comprovarCodi() {
      // üîê Substitueix aquesta l√≠nia pel codi secret quan el tinguis
      const codiCorrecte = String.fromCharCode(103, 101, 114, 109, 97, 110, 115, 45, 108, 108, 105, 116);
      const codiIntroduit = normalitzarCodi(document.getElementById("codiInput").value.trim());
      const missatgeDiv = document.getElementById("missatge");
      const so = document.getElementById("soExit");

      if (codiIntroduit === codiCorrecte) {
        missatgeDiv.textContent = "‚úÖ Correcte! Has descobert:";
        missatgeDiv.className = "correcte";
        const info = document.createElement("p");
        info.innerHTML = "<strong>Alg√∫ del Grup Rosa va ser vist parlant en secret amb alg√∫ del Grup Taronja.</strong>";
        missatgeDiv.appendChild(info);
        so.play();
      } else {
        missatgeDiv.textContent = "‚ùå Cod√≠ incorrecte. Torna-ho a provar.";
        missatgeDiv.className = "incorrecte";
        document.getElementById("soError").play(); // ‚úÖ So de desaprovaci√≥
      }
    }

    function alternarMusica() {
      const musica = document.getElementById("musicaFons");
      const boto = document.getElementById("botonMusica");
      if (musica.paused) {
        musica.play();
        boto.textContent = "üîä M√∫sica activada";
      } else {
        musica.pause();
        boto.textContent = "üîá Silenciar m√∫sica";
      }
    }
  </script>

</body>
</html>
